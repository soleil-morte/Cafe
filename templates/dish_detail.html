{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="page-header">
        <h1>{{ dish.name }}</h1>
        <a href="/menu/" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ –º–µ–Ω—é</a>
    </div>

    <div class="dish-detail">
        <div class="dish-info">
            <h3>üìù –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <p><strong>–¶–µ–Ω–∞:</strong> {{ dish.price }} —Å—É–º.</p>
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ dish.description|default:"–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è" }}</p>
        </div>

        <div class="dish-cost">
            <h3>üí∞ –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏</h3>
            <p><strong>–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> {{ cost|floatformat:2 }} —Å—É–º.</p>
            <p><strong>–ü—Ä–∏–±—ã–ª—å —Å –ø–æ—Ä—Ü–∏–∏:</strong> {{ profit|floatformat:2 }} —Å—É–º.</p>
            <p><strong>–ù–∞—Ü–µ–Ω–∫–∞:</strong> {{ dish.price|floatformat:2 }} —Å—É–º.</p>
        </div>

        <div class="ingredients-list">
            <h3>ü•ò –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</h3>
            {% for item in ingredients_with_cost %}
            <div class="ingredient-item">
                <span class="ingredient-name">{{ item.ingredient.product.name }}</span>
                <span class="ingredient-quantity">
                    {{ item.ingredient.quantity|floatformat:3 }} {{ item.ingredient.product.get_unit_display }}
                </span>
                <span class="ingredient-cost">
                    {{ item.ingredient.quantity|floatformat:3 }} √ó {{ item.ingredient.product.purchase_price }} =
                    {{ item.cost|floatformat:2 }} —Å—É–º.
                </span>
            </div>
            {% empty %}
            <p>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
            {% endfor %}
        </div>
        {% endblock %}