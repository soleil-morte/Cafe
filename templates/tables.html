{% extends "base.html" %}

{% block title %}Ğ¡Ñ‚Ğ¾Ğ»Ñ‹ - ĞšĞ°Ñ„Ğµ Ğ£ÑÑ‚Ğ½Ğ¾Ğµ{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>ğŸª‘ Ğ¡Ñ‚Ğ¾Ğ»Ñ‹</h1>
        {% if request.user.is_administrator or request.user.is_manager  %}
        <a href="/tables/add/" class="btn primary">â• Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ»</a>
        {% endif %}
    </div>
    
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="tables-grid">
        {% for table in tables %}
        <div class="table-card {% if table.is_occupied %}occupied{% else %}free{% endif %}">
            <h3>Ğ¡Ñ‚Ğ¾Ğ» {{ table.number }}</h3>
            <p>ĞœĞµÑÑ‚: {{ table.seats }}</p>
            <p class="status">
                {% if table.is_occupied %}
                ğŸ”´ Ğ—Ğ°Ğ½ÑÑ‚
                {% else %}
                ğŸŸ¢ Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´ĞµĞ½
                {% endif %}
            </p>
            <div class="card-actions">
                <a href="/tables/{{ table.id }}/order/" class="btn btn-sm primary">
                    ğŸ“ ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·
                </a>
                <a href="/tables/{{ table.id }}/toggle/" class="btn btn-sm">
                    {% if table.is_occupied %}ğŸŸ¢ ĞÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ¸Ñ‚ÑŒ{% else %}ğŸ”´ Ğ—Ğ°Ğ½ÑÑ‚ÑŒ{% endif %}
                </a>
                {% if request.user.is_administrator or request.user.is_manager %}
                <a href="/tables/{{ table.id }}/edit/" class="btn btn-sm">âœï¸ Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ</a>
                <a href="/tables/{{ table.id }}/delete/" class="btn btn-sm danger"
                onclick="return confirm('Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ» {{ table.number }}?')">ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ</a>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <div class="empty-state">
            <p>ğŸª‘ ĞŸĞ¾ĞºĞ° Ğ½ĞµÑ‚ ÑÑ‚Ğ¾Ğ»Ğ¾Ğ²</p>
            {% if request.user.is_administrator or request.user.is_manager %}
            <a href="/tables/add/" class="btn primary">Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ¾Ğ»</a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}