{% extends "base.html" %}

{% block title %}–°—Ç–æ–ª—ã - –ö–∞—Ñ–µ –£—é—Ç–Ω–æ–µ{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>ü™ë –°—Ç–æ–ª—ã</h1>
        <a href="/tables/add/" class="btn primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª</a>
    </div>
    
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="tables-grid">
        {% for table in tables %}
        <div class="table-card {% if table.is_occupied %}occupied{% else %}free{% endif %}">
            <h3>–°—Ç–æ–ª {{ table.number }}</h3>
            <p>–ú–µ—Å—Ç: {{ table.seats }}</p>
            <p class="status">
                {% if table.is_occupied %}
                üî¥ –ó–∞–Ω—è—Ç
                {% else %}
                üü¢ –°–≤–æ–±–æ–¥–µ–Ω
                {% endif %}
            </p>
            <div class="card-actions">
                <a href="/tables/{{ table.id }}/order/" class="btn btn-sm primary">
                    üìù –ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑
                </a>
                <a href="/tables/{{ table.id }}/toggle/" class="btn btn-sm">
                    {% if table.is_occupied %}üü¢ –û—Å–≤–æ–±–æ–¥–∏—Ç—å{% else %}üî¥ –ó–∞–Ω—è—Ç—å{% endif %}
                </a>
                <a href="/tables/{{ table.id }}/edit/" class="btn btn-sm">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å</a>
                <a href="/tables/{{ table.id }}/delete/" class="btn btn-sm danger"
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —Å—Ç–æ–ª {{ table.number }}?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
            </div>
        </div>
        {% empty %}
        <div class="empty-state">
            <p>ü™ë –ü–æ–∫–∞ –Ω–µ—Ç —Å—Ç–æ–ª–æ–≤</p>
            <a href="/tables/add/" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}